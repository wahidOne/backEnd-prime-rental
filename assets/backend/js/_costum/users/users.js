!function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=29)}({29:function(t,e,n){"use strict";n.r(e);function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.domain=e,this.userpath=this.domain+"assets/uploads/ava/",this.table=document.querySelector("#table-clients"),this.urlLoad=this.domain+"administrator/users/load-clients",this.modalinfo=document.querySelector("#m-info-client")}var e,n,i;return e=t,(n=[{key:"render",value:function(){var t=this;this.table&&(this.loadData(),this.table.addEventListener("click",(function(e){return t.handleActionsTable(e)})),document.addEventListener("visibilitychange",(function(e){return t.handleReloadTable()})))}},{key:"handleReloadTable",value:function(){"hidden"===document.visibilityState&&($("#table-clients").DataTable().destroy(),this.loadData()),"visible"===document.visibilityState&&($("#table-clients").DataTable().destroy(),this.loadData())}},{key:"loadData",value:function(){var t=this;this.getAlldata().then((function(e){var n=e.data.clients,a="";if(t.table){var i=t.table.querySelector("#tbody-clients"),r=Object.keys(n).map((function(t){return n[t]})),l=1;r.map((function(e){return a+=function(t,e,n){return"\n\t<tr>\n\t    <td>".concat(n,'</td>\n        <td>\n            <img class="img-lg rounded rounded-circle h-5  w-auto" src="').concat(t+e.user_photo,'" alt="">\n        </td>\n\t    <td>').concat(e.client_fullname,"</td>\n        <td>").concat(e.user_email,"</td>\n        <td>").concat(e.client_phone,"</td>\n      \n        <td>").concat(e.user_created,'</td>\n\t    <td>\n            <div class="d-flex">\n                <a data-id="').concat(e.client_id,'" id="info-client" href="#" class="badge badge-primary text-dark ">\n                    <i class="fad fa-fw fa-info "></i>\n                    Detail \n                </a>\n                <a data-id="').concat(e.client_id,'"  id="delete-client" href="#" class="badge d-none badge-danger ml-2 text-dark " data-name="').concat(e.client_name,'" >\n                    <i class="fad fa-fw fa-trash-alt  "></i>\n                    Delete\n                </a>\n            </div>\n\t    </td>\n\t</tr>\n\t')}(t.userpath,e,l++)})),i.innerHTML=a,$("#table-clients").DataTable({language:{search:""},columnDefs:[{targets:[1,-1,6,-1],orderable:!1}]}),$("#table-clients").each((function(){var t=$(this),e=t.closest(".dataTables_wrapper").find("div[id$=_filter] input");e.attr("placeholder","Search"),e.removeClass("form-control-sm"),t.closest(".dataTables_wrapper").find("div[id$=_length] select").removeClass("form-control-sm")}))}}))}},{key:"handleActionsTable",value:function(t){if("info-client"==t.target.id||"info-client"==t.target.parentNode.id){t.preventDefault();var e=t.target.dataset.id||t.target.parentNode.dataset.id;t.preventDefault(),this.urlGetDetail=this.domain+"administrator/users/get-client/"+e,this.getdDetailData()}if("delete-client"==t.target.id||"delete-client"==t.target.parentNode.id){t.preventDefault(),t.target.dataset.name||t.target.parentNode.dataset.name;t.target.dataset.id||t.target.parentNode.dataset.id;this.domain}}},{key:"getdDetailData",value:function(){var t=this;this.detailClient().then((function(e){$("#m-info-client").modal({backdrop:"static",keyboard:!1},"show");var n,a,i,r=t.modalinfo.querySelector("#container-modal-client");if(t.modalinfo){!function(t){var e=t.querySelector(".container-modal");t&&(e.innerHTML='\n\t<div  style="height: 40vh; " class="d-flex justify-content-center align-items-center ">\n\t\t\t<div class="spinner-border text-primary " role="status">\n\t\t\t\t<span class="sr-only">Loading...</span>\n\t\t\t</div>\n\t</div>\n\t')}(t.modalinfo);var l="";l+=(n=t.modalinfo,a=e.data,i=t.userpath,n.querySelector(".modal-title").innerHTML='Detail of <span class=" font-italic text-primary  " >'.concat(a.client_fullname,"</span> "),'\n    <div class="row">\n        <div class="col-12 col-md-4 text-center">\n            <img class="mx-auto border p-2 border-primary rounded rounded-circle" height="150" src="'.concat(i+a.user_photo,'" alt="">\n            <div class="mb-md-4 mt-3 mt-md-4 ">\n                <button type="button" class=" btn btn-primary text-dark"> ').concat(a.user_status,' </button>\n            </div>\n        </div>\n        <div class="col-md-8 pt-md-0  mt-3 mt-md-0">\n            <hr class=" d-md-none ml-2 border-top " style="width: 100%">\n            <div class="row px-2">\n                <div class="col-3 px-3 py-2">\n                    <h5 class="text-white-50" >Name</h5>\n                </div>\n                <div class="border-bottom col-8 px-3 py-2">\n                    <h5 class=" text-capitalize ">').concat(a.client_fullname,'</h5>\n                </div>\n            </div>\n            <br>\n            <div class="row px-2">\n                <div class="col-3 px-3 py-2">\n                    <h5 class="text-white-50" >ID Number</h5>\n                </div>\n                <div class="border-bottom col-8 px-3 py-2">\n                    <h5 class=" text-capitalize ">').concat(a.client_ID_num,'</h5>\n                </div>\n            </div>\n            <br>\n            <div class="row px-2">\n                <div class="col-3 px-3 py-2">\n                    <h5 class="text-white-50">Username</h5>\n                </div>\n                <div class="border-bottom col-8 px-3 py-2">\n                    <h5 class=" text-capitalize ">').concat(a.user_name,'</h5>\n                </div>\n            </div>\n            <br>\n            <div class="row px-2">\n                <div class="col-3 px-3 py-2">\n                    <h5 class="text-white-50">Email</h5>\n                </div>\n                <div class="border-bottom col-8 px-3 py-2">\n                    <h5 class=" text-capitalize ">').concat(a.user_email,'</h5>\n                </div>\n            </div>\n            <br>\n            <div class="row px-2">\n                <div class="col-3 px-3 py-2">\n                    <h5 class="text-white-50">Phone</h5>\n                </div>\n                <div class="border-bottom col-8 px-3 py-2">\n                    <h5 class=" text-capitalize ">').concat(a.client_phone,'</h5>\n                </div>\n            </div>\n            \n            <br>\n            <div class="row px-2">\n                <div class="col-3 px-3 py-2">\n                    <h5 class="text-white-50">Joined</h5>\n                </div>\n                <div class="border-bottom col-8 px-3 py-2">\n                    <h5 class=" text-capitalize ">').concat(a.user_created,"</h5>\n                </div>\n            </div>\n        </div>\n    </div>\n        \n        ")),r.innerHTML=l}}))}},{key:"detailClient",value:function(){return axios.get(this.urlGetDetail).then((function(t){return t})).catch((function(t){return console.log(t)}))}},{key:"getAlldata",value:function(){return axios.get(this.urlLoad).then((function(t){return t})).catch((function(t){return console.log(t)}))}}])&&a(e.prototype,n),i&&a(e,i),t}();function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.domain=e}var e,n,a;return e=t,(n=[{key:"render",value:function(){new i(this.domain).render()}}])&&r(e.prototype,n),a&&r(e,a),t}())(mainDomain).render()}});